<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <title>Student Registration</title>
</h:head>

<h:body style="font-family:'Segoe UI',sans-serif;
               background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);
               display:flex;justify-content:center;align-items:center;
               min-height:100vh;padding:20px;">

    <div style="max-width:600px;width:100%;background:white;border-radius:12px;
                box-shadow:0 10px 30px rgba(0,0,0,0.1);padding:2rem;">

        <h2 style="text-align:center;color:#667eea;margin-bottom:1rem;">
            ğŸ“ Student Registration
        </h2>

        <h:form id="regForm">

            <!-- âœ… FULL NAME (only letters & spaces allowed) -->
            <h:outputLabel for="name" value="Full Name:"/><br/>
            <h:inputText id="name" value="#{studentBean.student.name}" required="true"
                         requiredMessage="Full name is required."
                         style="width:100%;padding:10px;margin-bottom:5px;
                        border-radius:6px;border:1px solid #ccc;">
                <f:validateRegex pattern="^[A-Za-z ]+$"
                                 message="Full name must contain only letters and spaces."/>
            </h:inputText>
            <h:message for="name" style="color:red; font-size:13px; display:block; margin-bottom:10px;"/>

            <!-- âœ… EMAIL VALIDATION -->
            <h:outputLabel for="email" value="Email:"/><br/>
            <h:inputText id="email" value="#{studentBean.student.email}" required="true"
                         requiredMessage="Email is required."
                         style="width:100%;padding:10px;margin-bottom:5px;
                        border-radius:6px;border:1px solid #ccc;">
                <f:validateRegex pattern="^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,6}$"
                                 message="Please enter a valid email address."/>
            </h:inputText>
            <h:message for="email" style="color:red; font-size:13px; display:block; margin-bottom:10px;"/>

            <!-- âœ… PHONE VALIDATION (10 digits, not starting with 0) -->
            <h:outputLabel for="phone" value="Phone:"/><br/>
            <h:inputText id="phone" value="#{studentBean.student.phone}" required="true"
                         requiredMessage="Phone number is required."
                         style="width:100%;padding:10px;margin-bottom:5px;
                        border-radius:6px;border:1px solid #ccc;">
                <f:validateRegex pattern="^[1-9][0-9]{9}$"
                                 message="Phone number must be 10 digits and cannot start with 0."/>
            </h:inputText>
            <h:message for="phone" style="color:red; font-size:13px; display:block; margin-bottom:10px;"/>

            <!-- âœ… AGE VALIDATION (18â€“25) -->
            <h:outputLabel for="age" value="Age:"/><br/>
            <h:inputText id="age" value="#{studentBean.student.age}" required="true"
                         requiredMessage="Age is required."
                         style="width:100%;padding:10px;margin-bottom:5px;
                        border-radius:6px;border:1px solid #ccc;">
                <f:validateLongRange minimum="18" maximum="25"
                                     message="Age must be between 18 and 25."/>
            </h:inputText>
            <h:message for="age" style="color:red; font-size:13px; display:block; margin-bottom:15px;"/>

            <!-- âœ… SUBMIT BUTTON -->
            <h:commandButton value="Submit Registration"
                             action="#{studentBean.saveStudent}"
                             style="background:#4CAF50;color:white;padding:10px 20px;
                        border:none;border-radius:6px;width:100%;font-weight:600;
                        margin-top:10px;"/>
            <br/><br/>

            <!-- âœ… BACK TO HOME BUTTON (fixed) -->
            <h:commandButton value="â† Back to Home"
                             action="welcome?faces-redirect=true"
                             immediate="true"
                             style="background:#667eea;color:white;padding:8px 20px;
                        border:none;border-radius:6px;width:100%;
                        font-weight:600;cursor:pointer;"/>
        </h:form>

    </div>
</h:body>
</html>
